<div class="create-article-container">
    <div class="header">
        <button class="back-button" (click)="onGoBack()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
        </button>
        <h1>Créer un nouvel article</h1>
    </div>

    <form [formGroup]="articleForm" (ngSubmit)="onSubmit()" class="article-form">
        <div class="form-group">
            <select formControlName="topic" class="form-control theme-select"
                [class.error]="topic?.invalid && topic?.touched">
                <option value="" disabled>Sélectionner un thème</option>
                <option *ngFor="let topic of topics" [value]="topic">
                    {{ topic.title }}
                </option>
            </select>
            <div *ngIf="topic?.invalid && topic?.touched" class="error-message">
                Veuillez sélectionner un thème
            </div>
        </div>

        <div class="form-group">
            <input type="text" formControlName="title" class="form-control title-input" placeholder="Titre de l'article"
                [class.error]="title?.invalid && title?.touched">
            <div *ngIf="title?.invalid && title?.touched" class="error-message">
                <span *ngIf="title?.errors?.['required']">Le titre est requis</span>
                <span *ngIf="title?.errors?.['minlength']">Le titre doit contenir au moins 5 caractères</span>
            </div>
        </div>

        <div class="form-group">
            <textarea formControlName="content" class="form-control content-textarea" placeholder="Contenu de l'article"
                rows="8" [class.error]="content?.invalid && content?.touched">
      </textarea>
            <div *ngIf="content?.invalid && content?.touched" class="error-message">
                <span *ngIf="content?.errors?.['required']">Le contenu est requis</span>
                <span *ngIf="content?.errors?.['minlength']">Le contenu doit contenir au moins 20 caractères</span>
            </div>
        </div>

        <!-- Bouton de création -->
        <button type="submit" class="create-button" [disabled]="articleForm.invalid">
            Créer
        </button>
    </form>
</div>